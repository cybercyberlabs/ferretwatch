!function(){"use strict";const t="undefined"!=typeof browser?browser:chrome;let e=!1;function n(t){window.debugLog&&window.debugLog(t)}function r(r){if(n("[FW Content] injectInterceptor() called"),r&&r())return n("[FW Content] Skipping interceptor injection - domain is whitelisted"),!1;if(e)return n("[FW Content] Interceptor already injected by this content script - skipping"),!0;try{n("[FW Content] Creating interceptor script element...");const r=document.createElement("script");return r.src=t.runtime.getURL("utils/network-interceptor.js"),r.onload=function(){n("[FW Content] Interceptor script loaded and executed"),this.remove()},r.onerror=function(t){console.error("[FW Content] Interceptor script failed to load:",t)},(document.head||document.documentElement).appendChild(r),e=!0,n("[FW Content] Interceptor script element appended to DOM"),n("Network interceptor injected"),!0}catch(t){return console.error("[FW Content] Failed to inject interceptor:",t),!1}}async function o(t,e){try{if(n("[FW Content] Early initialization at document_start"),await t(),e())return n("[FW Content] Domain is whitelisted - skipping interceptor injection"),!1;const o=r(e);return n("[FW Content] Interceptor injected at document_start"),o}catch(t){return console.error("[FW Content] Early injection error:",t),!1}}function i(){return e}window.FerretWatchInterceptor={injectInterceptor:r,injectInterceptorEarly:o,isInterceptorInjected:i}}();