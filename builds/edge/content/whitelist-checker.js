!function(){"use strict";const t="undefined"!=typeof browser?browser:chrome;let n=[];const e=window.location.hostname;async function o(){try{if(t.storage){const e=await t.storage.local.get(["whitelistedDomains"]);return n=e.whitelistedDomains||[],console.log("[FW Content] Whitelist loaded:",n),n}}catch(t){console.log("[FW Content] Could not load whitelist, using empty list:",t),n=[]}return n}function i(){const t=n.some((t=>{if(t.startsWith("*.")){const n=t.substring(2);return e===n||e.endsWith("."+n)}return e===t}));return console.log(`[FW Content] Domain whitelist check for "${e}": ${t}`),t}function s(){return e}function r(){return[...n]}window.FerretWatchWhitelist={loadWhitelist:o,isDomainWhitelisted:i,getCurrentDomain:s,getWhitelistedDomains:r}}();