!function(){"use strict";const t="undefined"!=typeof browser?browser:chrome;let e=!1;function n(t){window.debugLog&&window.debugLog(t)}function o(o){if(console.log("[FW Content] injectInterceptor() called"),o&&o())return console.log("[FW Content] Skipping interceptor injection - domain is whitelisted"),!1;if(e)return console.log("[FW Content] Interceptor already injected by this content script - skipping"),!0;try{console.log("[FW Content] Creating interceptor script element...");const o=document.createElement("script");return o.src=t.runtime.getURL("utils/network-interceptor.js"),o.onload=function(){console.log("[FW Content] Interceptor script loaded and executed"),this.remove()},o.onerror=function(t){console.error("[FW Content] Interceptor script failed to load:",t)},(document.head||document.documentElement).appendChild(o),e=!0,console.log("[FW Content] Interceptor script element appended to DOM"),n("Network interceptor injected"),!0}catch(t){return console.error("[FW Content] Failed to inject interceptor:",t),!1}}async function r(t,e){try{if(console.log("[FW Content] Early initialization at document_start"),await t(),e())return console.log("[FW Content] Domain is whitelisted - skipping interceptor injection"),!1;const n=o(e);return console.log("[FW Content] Interceptor injected at document_start"),n}catch(t){return console.error("[FW Content] Early injection error:",t),!1}}function c(){return e}window.FerretWatchInterceptor={injectInterceptor:o,injectInterceptorEarly:r,isInterceptorInjected:c}}();